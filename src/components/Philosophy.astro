---
// src/components/Philosophy.astro
import MeshGradient from './MeshGradient';
---
<section id="filosofia" class="bg-[var(--color-noir)] relative overflow-hidden flex flex-col items-center justify-center min-h-screen w-full py-24">
  
  <div class="sticky top-0 h-screen w-full flex items-center justify-center overflow-hidden">
    
    <MeshGradient client:load />

    <div class="w-full max-w-7xl mx-auto px-6 md:px-12 flex flex-col justify-center h-full relative z-10">
      
      <div class="flex items-center gap-4 mb-12 opacity-0 philosophy-reveal">
        <div class="w-8 h-px bg-[var(--color-gold)]"></div>
        <p class="font-accent text-[var(--color-gold)] tracking-widest uppercase text-sm">Nuestra Filosofía</p>
      </div>

      <div class="space-y-4 md:space-y-8 relative">
        <h2 class="font-display text-4xl sm:text-5xl md:text-7xl lg:text-8xl leading-[1.1] text-[var(--color-silver)]/30 opacity-0 philosophy-line-1">
          Nuestra vinoteca no es un <span class="block mt-2">electrodoméstico.</span>
        </h2>
        
        <h2 class="font-display text-4xl sm:text-5xl md:text-7xl lg:text-8xl leading-[1.1] text-[var(--color-ivory)] opacity-0 philosophy-line-2 relative">
          Es una <span class="italic text-[var(--color-gold)]">obra de arte</span>.
        </h2>
      </div>

      <div class="mt-24 grid grid-cols-1 md:grid-cols-3 gap-12 border-t border-[var(--color-silver)]/20 pt-16">
        
        <div class="flex flex-col gap-4 opacity-0 philosophy-pillar">
          <div class="text-[var(--color-gold)] mb-2">
            <!-- Artesanía icon -->
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hammer"><path d="m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9"/><path d="M17.64 15 22 10.64"/><path d="m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91"/></svg>
          </div>
          <h3 class="font-display text-2xl text-[var(--color-ivory)]">Alta Artesanía</h3>
          <p class="font-body text-sm text-[var(--color-silver)]/70 leading-relaxed">
            Maderas nobles talladas a mano. Un ensamblaje minucioso por ebanistas expertos. Lujo que se siente al primer tacto.
          </p>
        </div>

        <div class="flex flex-col gap-4 opacity-0 philosophy-pillar">
          <div class="text-[var(--color-gold)] mb-2">
            <!-- Tecnología icon -->
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-snowflake"><path d="m10 20-1.25-2.5L6 18"/><path d="M10 4 8.75 6.5 6 6"/><path d="m14 20 1.25-2.5L18 18"/><path d="m14 4 1.25 2.5L18 6"/><path d="m17 21-3-6h-4"/><path d="m17 3-3 6h-4"/><path d="M2 12h20"/><path d="M20 12l-1.5 2h-3"/><path d="M20 12l-1.5-2h-3"/><path d="M22 12h-2"/><path d="M4 12 5.5 14h3"/><path d="M4 12 5.5 10h3"/></svg>
          </div>
          <h3 class="font-display text-2xl text-[var(--color-ivory)]">Avanzada Tecnología</h3>
          <p class="font-body text-sm text-[var(--color-silver)]/70 leading-relaxed">
            Aislamiento de cámaras de cristal, refrigeración silenciosa, y control higrométrico milimétrico. El ambiente perfecto para el vino.
          </p>
        </div>

        <div class="flex flex-col gap-4 opacity-0 philosophy-pillar">
          <div class="text-[var(--color-gold)] mb-2">
            <!-- Personalización icon -->
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-drafting-compass"><circle cx="12" cy="5" r="2"/><path d="m3 21 8.02-14.26"/><path d="m21 21-8.02-14.26"/><path d="m10.11 10.82 3.78 3.78"/><path d="m16.5 13.5-3.8-3.8"/></svg>
          </div>
          <h3 class="font-display text-2xl text-[var(--color-ivory)]">Personalización Inicial</h3>
          <p class="font-body text-sm text-[var(--color-silver)]/70 leading-relaxed">
            No adaptamos su espacio a la vinoteca; creamos una vinoteca Caveduke que se integre perfectamente a su visión.
          </p>
        </div>

      </div>

    </div>
  </div>
</section>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  const tl = gsap.timeline({
    scrollTrigger: {
      trigger: '#filosofia',
      start: 'top top',
      end: 'bottom bottom',
      scrub: 1, // Smooth scrubbing
    }
  });

  tl.to('.philosophy-reveal', { opacity: 1, y: -20, duration: 1 })
    .to('.philosophy-line-1', { opacity: 1, duration: 2 })
    .to('.philosophy-line-2', { opacity: 1, duration: 2, y: -10 }, '-=1')
    .to('.philosophy-pillar', { 
      opacity: 1, 
      y: -20, 
      duration: 2, 
      stagger: 0.5 
    }, '+=1');
</script>
